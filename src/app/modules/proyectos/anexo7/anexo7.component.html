<ng-container *ngIf="issloading">
  <div class="bss-loader" style="margin: auto;">
    <center>
      <img [src]="loader" alt=""> 
   </center>
  </div>
</ng-container>
<div *ngIf="issloading==false">
  <form class="formulario" >
    <table style="width:100%; height:100%;" class="bss-table-borderless" class="table table-striped table-responsive-md btn-table">
        <thead class="thead-dark center-block">
          <tr class="active">
            <div class="row-fluid">
              <div class="row">
                <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5">
                  <img />
                </div>
              </div>
            </div>
          </tr>
        </thead>
 <tbody>
    <tr colspan="2" class="d-flex" class="text-center">
            <h2 class="bss-txt-content" style="font-size: 22px;">
                SEGUIMIENTO, CONTROL Y EVALUACIÓN (PARCIAL) DEL PLAN DE APRENDIZAJE<br /> 
                PROYECTOS DE VINCULACIÓN CON LA SOCIEDAD <br />
                INSTITUTO SUPERIOR TECNOLÓGICO DEL AZUAY <br />
            </h2>
    </tr>
     <tr>
     <table style="width:100%; height:90%;" class="table table-bordered">
              <tbody>
                <tr> 
                    <!-- falta (change)="selectProyecto($event)"-->
                    <th colspan="4" scope="col"><strong>NOMBRE DEL PROYECTO: {{this.proyecto.nombre}}</strong> 
                    </th>  
                </tr>

                <tr> 
                  <table>
                    <tbody style="width: 100%; height: 100%;">
                  <tr>
                  <th colspan="4" scope="col"><strong>Empresa/Institución: {{this.edntidad.nombre}}</strong>
                  </th> 
                  <th colspan="4" scope="col"><strong>Director del proyecto: {{this.proyecto.nombredirector}} </strong>
                  </th>  
                  
                  </tr>

                  <tr >
                  <th colspan="5" scope="col"><strong>Fecha Planificación: </strong>
                    <input type="date" class="form-control" [(ngModel)]="this.anexo7.fechaPlanificacion" name="fechaPlanificacion">
                  </th> 
                  <th colspan="3" scope="col"><strong>Mes/año Planificado: </strong>
                    <input type="month" class="form-control" [(ngModel)]="this.anexo7.mesAnioPlanificado" name="mesAnioPlanificado">
                  </th>  
                  
                  </tr>
                  </tbody>
                  </table>
                  
                </tr>

                <tr> 
                  <th colspan="4" scope="col"><strong>Datos Informativos:</strong>  
                  </th>
                </tr>
              <tr>
                
                 <td colspan="2" scope="col" style="color: firebrick">
                  <h1>DOCENTES PARTICIPANTES</h1>
                     <div [formGroup]="addForm">
                        <table>
                          <tr>
                            <td colspan="5" scope="col"> <button class="btn btn-success" (click)="onAddRow()" *ngIf="addForm.get('rows')">AGREGAR ACTIVIDADES</button></td>
                          </tr>
                            <tbody>
                                <tr *ngFor="let row of addForm.get('rows')?.controls;let index = index;">
                                    <td colspan="" scope="col "> <strong>Resultados</strong>
                                        <div class="form-group"> 
                                        <input type="text" class="form-control"  [formControl]="row.get('resultados')">
                                        </div> 
                                    </td>
                                  <td colspan="" scope="col" style="width: 350px;">  <strong><center>Actividad de los docentes participantes</center></strong>
                                    <select class="form-control" [formControl]="row.get('actividad')">
                                      <option value="SL" >SELECCIONE</option>
                                      <option  *ngFor="let item of proyecto.actividadeslistProyectos" [ngvalue]="item.descripcion">{{item.descripcion}}</option>
                                    </select> 
                                </td>
                                <td colspan="" scope="col"> <strong><center>Docente de apoyo</center></strong>
                                  <div class="form-group"> 
                                 
                                    <select class="form-control"  [formControl]="row.get('cedulaDocente')">
                                      <option value="SL">SELECCIONE</option>
                                      <option  *ngFor="let item of anexo1" [ngvalue]="item.cedulaDelegado-item.nombreDelegado">{{item.cedulaDelegado}}-{{item.nombreDelegado}}</option>
                                    </select> 
                                  </div> 
                                <td colspan="" scope="col "> 
                                  <tr>
                                    <strong><center>Fecha Inicio</center></strong>
                                    <div class="form-group">  
                                      <input type="date" id="start" name="trip-start" [formControl]="row.get('fechaInicio')" >
                                   
                                    </div> 
                                    <div class="form-group"> 
                                      <strong><center>Fecha Finalización</center></strong>
                                     
                                        <input type="date" id="start" name="trip-start" [formControl]="row.get('fechaFin')" >
                                     
                                      </div> 
                                   </tr>
                                </td>
                                <td colspan="" scope="col "> 
                                  <tr>
                                    <strong><center>Observaciones</center></strong>
                                    <div class="form-group"> 
                                  
                                    <input type="text" class="form-control"  [formControl]="row.get('observaciones')">
                                   
                                    </div> 
                                    <strong><center>No. de Horas</center></strong>
                                <div class="form-group">  
                                <input type="number" class="form-control" [formControl]="row.get('numHoras')"> 
                                </div> 
                                </tr>   
                              </td>           
                                <td> <button mat-raised-button color="warn" (click)="onRemoveRow(index)">ELIMINAR</button> </td>
                            </tbody>
                         </table>
                     </div>
                 </td> 
              </tr>
              <br>




              <tr>
                <td colspan="2" scope="col" style="color: darkblue;;">
                  <h1>ALUMNOS PARTICIPANTES</h1>
                    <div [formGroup]="addForm1">
                       <table>
                        <tr>
                          <td colspan="5" scope="col"> <button class="btn btn-success" (click)="onAddRow1()" *ngIf="addForm1.get('rows1')">AGREGAR ACTIVIDADES</button></td>
                        </tr>
                           <tbody>
                               <tr *ngFor="let row of addForm1.get('rows1')?.controls;let index = index;">
                                   <td colspan="" scope="col "> <strong>Resultados</strong>
                                       <div class="form-group">  
                                       <input type="text" class="form-control"  [formControl]="row.get('resultados')"> 
                                       </div> 
                                   </td>
                                 <td colspan="" scope="col" style="width: 350px;">  <strong><center>Actividad de los estudiantes participantes</center></strong>
                                   <select class="form-control" [formControl]="row.get('actividad')">
                                    <option value="SL">SELECCIONE</option>
                                    <option  *ngFor="let item of proyecto.actividadeslistProyectos" [ngvalue]="item.descripcion">{{item.descripcion}}</option>
                                  </select> 
                               </td>
                               <td colspan="" scope="col"> <strong><center>Estudiante</center></strong>
                                <div class="form-group">  
                                   <select class="form-control" [formControl]="row.get('cedulaEstudiante')">
                                     <option value="SL">SELECCIONE</option>
                                     <option  *ngFor="let item of anexo3" [ngvalue]="item.cedula-item.nombresestudiante-item.apellidosestudiante">{{item.cedula}}-{{item.nombresestudiante}} {{item.apellidosestudiante}}</option>
                                   </select> 
                                </div> 
                            </td>
                               <td colspan="" scope="col ">
                                 <tr>
                                  <strong><center>Fecha Inicio</center></strong>
                                  <div class="form-group">  
                                    <input type="date" id="start" name="trip-start" [formControl]="row.get('fechaInicio')" > 
                                  </div> 
                                  <div class="form-group"> 
                                    <strong><center>Fecha Finalización</center></strong> 
                                      <input type="date" id="start" name="trip-start" [formControl]="row.get('fechaFin')" > 
                                    </div> 
                                 </tr>
                               <td> 
                                 <tr>
                                  <strong><center>Observaciones</center></strong>
                                  <div class="form-group">  
                                  <input type="text" class="form-control"  [formControl]="row.get('observaciones')"> 
                                  </div> 
                                  <strong><center>No. de Horas</center></strong>
                              <div class="form-group">  
                              <input type="number" class="form-control" [formControl]="row.get('numHoras')"> 
                              </div> 
                              </tr>   
                             </td>
                               <td> <button mat-raised-button color="warn" (click)="onRemoveRow1(index)">ELIMINAR</button> </td>
                           </tbody>
                        </table>
                    </div>
                </td> 
             </tr>





        </tbody>
      </table>
          </tr>
        </tbody>
      </table> 
    <div class="col text-center" style="display: block; margin: 0 auto;"> 
      <button class="btn btn-primary" (click)="guardar()">GUARDAR PLAN DE APRENDIZAJE</button>&nbsp;&nbsp;
      </div>
 </form>


</div>
